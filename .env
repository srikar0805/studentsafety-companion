# ============================================================
# Student Safety Companion — Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# ============================================================

# ---- Database (Required) ------------------------------------
# PostgreSQL connection string with PostGIS extension enabled.
# For local development:
#   DATABASE_URL=postgresql://postgres:password@localhost:5432/studentsafety
# For Supabase:
#   DATABASE_URL=postgresql://postgres.<ref>:<password>@aws-1-us-east-1.pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres:password@localhost:5432/studentsafety

# ---- Archia AI Agent Runtime (Required for chat) ------------
# Get your API key from https://archia.app
ARCHIA_API_KEY=ask_FujOxF9rT5CEsDUUDKzHoDrGA8ZhPCA_ho2VcIA1Nak=
ARCHIA_BASE_URL=https://registry.archia.app
ARCHIA_TIMEOUT_SECONDS=30

# Agent names — these must match exactly what's registered in Archia
ARCHIA_AGENT_NAME=Campus Dispatch Orchestrator
ROUTING_AGENT_NAME=Campus Routing Engine
RISK_AGENT_NAME=Campus risk and prediction engine
CONTEXT_AGENT_NAME=campus context and journalism agent

# ---- Optional Overrides ------------------------------------
# OSRM_BASE_URL=https://router.project-osrm.org
# GEOCODER_BASE_URL=https://nominatim.openstreetmap.org
SPATIAL_RADIUS_M=500
PHONE_RADIUS_M=100
TEMPORAL_WINDOW_DAYS=30
TRAFFIC_WINDOW_DAYS=90

# ============================================
# Data Update & Scheduling Configuration
# ============================================

# Data Update Schedules (formats: hourly, daily_HH:MM, weekly_DAY_HH:MM)
MUPD_CRIME_LOG_SCHEDULE=daily_03:00
CPD_CRIME_DATA_SCHEDULE=weekly_sunday_02:00
MUPD_INCIDENT_LOG_SCHEDULE=daily_03:30

# Automatically run ETL pipeline after fetching new data
AUTO_RUN_ETL=true

# Run scheduler continuously (true for server deployment, false for cron/Task Scheduler)
CONTINUOUS_MODE=false

# Data Source URLs (configure based on actual endpoints)
MUPD_CRIME_LOG_URL=https://police.missouri.edu/daily-crime-log/
CPD_CRIME_DATA_URL=https://www.como.gov/CMS/gis/crimedata.php
MUPD_INCIDENT_LOG_URL=https://police.missouri.edu/daily-incident-log/

# Fetch data for last N days (for CPD incremental updates)
CPD_FETCH_DAYS=30
# TOOL_API_KEY=tool_xxxxxxxxxxxxxxxxx
